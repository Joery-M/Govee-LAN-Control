<script type="text/javascript">
    RED.nodes.registerType('Set Brightness', {
        category: 'Govee',
        color: '#00a8e2',
        defaults: {
            name: { value: "" },
            device: { value: "", validate: RED.validators.regex(/(([A-f0-9]{2}:){7}[A-z0-9]{2})|(\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b)/i) },
            brightness: {
                value: "", validate: (num) =>
                {
                    return (parseFloat(num) >= 0 && parseFloat(num) <= 100) || num == "";
                }
            }
        },
        inputs: 1,
        outputs: 1,
        icon: "Govee.svg",
        label: function ()
        {
            return this.name || "Set Brightness";
        }
    });
</script>

<script type="text/html" data-template-name="Set Brightness">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-device"><i class="icon-tag"></i> Device ID or IP</label>
        <input type="text" id="node-input-device" placeholder="xx:xx:xx:xx:xx:xx:xx:xx or xxx.xxx.xxx.xxx">
        <span style="display: block; padding-left: 106px; color: gray; font-size: small;">ID is safer to use than IP.</span>
    </div>
    <div class="form-row">
        <label for="node-input-brightness"><i class="icon-tag"></i> Brightness</label>
        <input type="number" id="node-input-brightness">
        <span style="display: block; padding-left: 106px; color: gray; font-size: small;">If empty, JSON input is used.<br>For JSON, the value of <span style="font-family: monospace; backdrop-filter: invert(0.075); padding: 0.2em;">brightness</span> in payload is used.</span>
    </div>
</script>