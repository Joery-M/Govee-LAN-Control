<script type="text/javascript">
    RED.nodes.registerType('Set Power', {
        category: 'Govee',
        color: '#00a8e2',
        defaults: {
            name: { value: "" },
            device: { value: "", validate: RED.validators.regex(/(([A-f0-9]{2}:){7}[A-z0-9]{2})|(\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b)/i) },
            powerState: { value: "on" }
        },
        inputs: 1,
        outputs: 1,
        icon: "Govee.svg",
        label: function ()
        {
            return this.name || "Set Power";
        },
        oneditprepare: function ()
        {
            $("#node-input-powerState").typedInput({
                types: [
                    {
                        value: "on",
                        options: [
                            { value: "on", label: "On" },
                            { value: "off", label: "Off" },
                        ]
                    }
                ]
            });
        }
    });
</script>

<script type="text/html" data-template-name="Set Power">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-device"><i class="icon-tag"></i> Device ID or IP</label>
        <input type="text" id="node-input-device" placeholder="xx:xx:xx:xx:xx:xx:xx:xx or xxx.xxx.xxx.xxx">
        <span style="display: block; padding-left: 106px; color: gray; font-size: small;">ID is safer to use than IP.</span>
    </div>
    <div class="form-row">
        <label for="node-input-powerState"><i class="icon-tag"></i> Power</label>
        <input type="text" id="node-input-powerState">
    </div>
</script>